<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- DYNAMIC: These will be updated by JavaScript based on service -->
    <meta name="description" content="Professional construction service details | JS Brixen">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Service Details | JS Brixen">
    <meta property="og:description" content="Professional construction services in Kerala & Karnataka">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&q=80">

    <title>Service Details | JS Brixen</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="assets/css/services.css">

    <!-- JSON-LD Structured Data (Will be populated by JavaScript) -->
    <script type="application/ld+json" id="service-ld-json">
    {
      "@context": "https://schema.org",
      "@type": "Service",
      "name": "Construction Service",
      "description": "Professional construction services",
      "provider": {
        "@type": "Organization",
        "name": "JS Brixen",
        "url": "https://jsconstruction.com"
      },
      "areaServed": ["Kerala", "Karnataka"]
    }
    </script>
</head>

<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header class="header">
        <div class="container header__inner">
            <a class="logo" href="index.html">
                <img src="assets/images/js-logo.png" alt="JS Brixen" style="height: 60px; margin-right: 12px;"
                    loading="eager" fetchpriority="high">
                <span class="logo-text">JS Brixen</span>
            </a>
            <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">â˜°</button>
            <nav class="nav">
                <a href="index.html" class="nav__link">Home</a>
                <a href="services.html" class="nav__link nav__link--active">Services</a>
                <a href="projects.html" class="nav__link">Projects</a>
                <a href="book-consultation.html" class="nav__link">Book Consultation</a>
                <a href="about.html" class="nav__link">About</a>
                <a href="contact.html" class="nav__link">Contact</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Loader -->
        <div id="service-loader" style="padding: 100px; text-align: center;">
            <div style="font-size: 1.5rem; color: var(--color-text-light);">Loading service details...</div>
        </div>

        <div id="service-dynamic-content" hidden>
            <!-- Hero Section -->
            <section class="service-hero">
                <div class="service-hero__background">
                    <img src="" alt="Service background" loading="eager">
                </div>
                <div class="container service-hero__content">
                    <nav aria-label="Breadcrumb" class="breadcrumb">
                        <a href="services.html">Services</a> / <span aria-current="page"></span>
                    </nav>
                    <h1 class="service-hero__title"></h1>
                    <p class="service-hero__summary"></p>

                    <div class="service-hero__cta">
                        <a href="book-consultation.html" class="btn-primary btn-lg">
                            Book Free Consultation
                        </a>
                    </div>

                    <div class="trust-badges">
                        <span>Free Site Visit</span>
                        <span>Transparent Pricing</span>
                        <span>10+ Years Experience</span>
                    </div>
                </div>
            </section>

            <!-- Service Overview & Description -->
            <section class="section service-description-section" aria-labelledby="overview-heading">
                <div class="container">
                    <h2 id="overview-heading">Service Overview</h2>
                    <div class="service-description project-description">
                        <!-- Full Service Description populated by JS -->
                    </div>
                </div>
            </section>

            <!-- Areas Served -->
            <section class="section service-areas-section" aria-labelledby="areas-heading"
                style="background-color: var(--color-surface);">
                <div class="container">
                    <h2 id="areas-heading">Areas Served</h2>
                    <div class="service-areas-list" style="display: flex; gap: var(--spacing-sm); flex-wrap: wrap;">
                        <!-- Areas populated by JS -->
                    </div>
                </div>
            </section>

            <!-- Gallery Section -->
            <section class="section service-gallery" aria-labelledby="gallery-heading">
                <div class="container">
                    <h2 id="gallery-heading">Project Gallery</h2>
                    <div class="gallery-grid">
                        <!-- Gallery images will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- What We Provide Section (Features) -->
            <section class="section service-features" aria-labelledby="features-heading">
                <div class="container">
                    <h2 id="features-heading">Key Features</h2>
                    <ul class="features-list">
                        <!-- Features will be populated by JavaScript -->
                    </ul>
                </div>
            </section>
        </div>

        <!-- CTA Section -->
        <section class="section service-cta" style="background-color: var(--color-bg);">
            <div class="container text-center">
                <h2>Ready to Get Started?</h2>
                <p style="font-size: 1.125rem; margin-bottom: var(--spacing-md);">
                    Book a free consultation with our experts and bring your vision to life.
                </p>
                <a href="book-consultation.html" class="btn-primary btn-lg">
                    Book Free Consultation
                </a>
            </div>
        </section>
    </main>

    <!-- Lightbox Modal (Hidden by Default) -->
    <div class="lightbox" role="dialog" aria-modal="true" aria-label="Image gallery" hidden>
        <div class="lightbox__backdrop"></div>
        <div class="lightbox__container">
            <button class="lightbox__close" aria-label="Close gallery">Ã—</button>
            <button class="lightbox__prev" aria-label="Previous image">â€¹</button>
            <img class="lightbox__image" src="" alt="">
            <button class="lightbox__next" aria-label="Next image">â€º</button>
            <div class="lightbox__counter" aria-live="polite">1 / 1</div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__inner">
                <div class="footer__section">
                    <h3>JS Brixen</h3>
                    <p>Building dreams across Kerala & Karnataka with quality, trust, and expertise.</p>
                </div>
                <div class="footer__section">
                    <h3>Quick Links</h3>
                    <ul class="footer__links">
                        <li><a href="services.html">Services</a></li>
                        <li><a href="projects.html">Projects</a></li>
                        <li><a href="book-consultation.html">Book Consultation</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer__section">
                    <h3>Contact</h3>
                    <ul class="footer__links">
                        <li><a id="footer-phone-link" href="tel:+91XXXXXXXXXX" data-keep-icon="true">ðŸ“ž +91
                                XXXXXXXXXX</a></li>
                        <li><a id="footer-email-link" href="mailto:info@jsconstruction.com" data-keep-icon="true">ðŸ“§
                                info@jsconstruction.com</a></li>
                        <li><a id="footer-whatsapp-link" href="https://wa.me/91XXXXXXXXXX" data-keep-icon="true">ðŸ’¬
                                WhatsApp</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__copyright">
                <p>&copy; 2026 JS Brixen. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="assets/js/utils.js" defer></script>
    <script src="assets/js/main.js" defer></script>
    <script src="assets/js/customer-auth.js" defer></script>
    <script src="assets/js/auth-modal.js" defer></script>
    <script src="assets/js/account-menu.js" defer></script>
    <script src="assets/js/services.js" defer></script>

    <script type="module">
        import { fetchLiveServices } from './assets/js/services-firestore.js';
        import { fetchAndRenderContent } from './assets/js/content-loader.js';

        // Load services from Firestore when page loads
        window.addEventListener('DOMContentLoaded', async () => {
            // Load site content (footer, etc)
            fetchAndRenderContent();

            try {
                const services = await fetchLiveServices();
                // ... rest of code
                window.SERVICES = services;
                window.dispatchEvent(new CustomEvent('servicesLoaded', { detail: services }));
            } catch (error) {
                console.error('Failed to load services:', error);
            }
        });
    </script>

    <!-- 
    ===== FIRESTORE INTEGRATION GUIDE =====
    
    To integrate with Firestore, replace the service data loading in services.js with:
    
    async function initServiceDetail() {
      const params = new URLSearchParams(window.location.search);
      const serviceSlug = params.get('service');
      
      if (!serviceSlug) {
        window.location.href = '/services.html';
        return;
      }
      
      // Fetch from Firestore
      const db = firebase.firestore();
      const doc = await db.collection('services').doc(serviceSlug).get();
      
      if (!doc.exists) {
        window.location.href = '/services.html';
        return;
      }
      
      const serviceData = { id: doc.id, ...doc.data() };
      populateServicePage(serviceData);
    }
    
    The data structure in Firestore should match the SERVICES array structure in services.js.
    -->
</body>

</html>